{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Number.js","services/Persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["PersonForm","prop","value","newName","onChange","handleNameChange","newNumber","handlePhoneChange","type","onClick","addPerson","Filter","handleFilterChange","Button","text","id","Person","name","phone","handleDeletePerson","className","Number","filterPerson","map","person","number","baseUrl","axios","get","then","response","data","newObject","post","newPerson","put","delete","Notification","message","App","useState","persons","setPersons","setNewName","setNewNumber","filter","setNewFilter","errorMessage","setErrorMessage","useEffect","personService","initialPersons","toLowerCase","includes","event","pid","parseInt","target","find","p","window","confirm","finally","setTimeout","preventDefault","personObj","personExist","returnedPerson","catch","error","n","returnedPersons","concat","console","log","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57db3e27.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (prop) => {\r\n    return (\r\n        <div>\r\n            <form>\r\n                <div>\r\n                    <input value={prop.newName} onChange={prop.handleNameChange} />\r\n                </div>\r\n                <div>\r\n                    <input value={prop.newNumber} onChange={prop.handlePhoneChange} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\" onClick={prop.addPerson}>add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = (prop) => {\r\n    return(\r\n        <div>\r\n            filter shown with <input value={prop.value} onChange={prop.handleFilterChange} /> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Button = ({onClick, text, id}) => (\r\n    <button onClick={onClick} id={id}>{text}</button>\r\n)\r\nconst Person = ({id, name, phone, handleDeletePerson}) => {\r\n    return (\r\n        <div className=\"note\">\r\n            <li>{name} {phone} <Button text='delete' onClick={handleDeletePerson} id={id} /></li>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import Person from \"./Person\";\r\nimport React from \"react\";\r\n\r\nconst Number = (prop) => {\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {prop.filterPerson.map(person =>\r\n                    <Person key={person.id} id={person.id} name={person.name} phone={person.number} handleDeletePerson={prop.handleDeletePerson} />)}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Number","import axios from 'axios'\r\n\r\nconst baseUrl = 'https://salty-island-12191.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst updatePerson = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson);\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\n\r\nexport default {getAll, create, update, updatePerson, deletePerson}","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return(\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, {useState, useEffect} from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport Number from \"./components/Number\";\nimport personService from \"./services/Persons\";\nimport Notification from \"./components/Notification\";\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const filterPerson = persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObj = {\n      name : newName,\n      number: newNumber\n    }\n    const personExist = persons.find((person) => person.name === newName)\n    if (personExist){\n      const result = window.confirm(`${personExist.name} is already added to phonebook, replace the old number with a new one?`)\n      if (result) {\n        personService.updatePerson(personExist.id, personObj).then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== personExist.id ? person : returnedPerson))\n        }).catch(error => {\n          setErrorMessage(`the person ${personExist.name} was already deleted from server`)\n          setTimeout(()=>{setErrorMessage(null)}, 5000)\n          setPersons(persons.filter(n=> n.id !== personExist.id))\n        })\n        setErrorMessage(`Updated ${personObj.name}`)\n        setTimeout(() => setErrorMessage(null), 5000)\n      }\n    }else{\n      personService.create(personObj).then(returnedPersons => {\n        setPersons(persons.concat(returnedPersons))\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage(`Added ${personObj.name}`)\n        setTimeout(() => setErrorMessage(null), 5000)\n      }).catch(error => {\n        setErrorMessage(error.response.data.error)\n        setTimeout(() => setErrorMessage(null), 5000)\n        console.log(error.response.data.error)\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const deletePerson = (id) => {\n    personService.deletePerson(id).finally(() => {\n      setPersons(persons.filter(p => p.id !== id))\n    })\n  }\n\n  const handleDeletePerson = (event) => {\n    const pid = parseInt(event.target.id, 10)\n    const person = persons.find(p => p.id === 1)\n    const result = window.confirm(`Delete ${person.name}?`)\n    if(result)\n    {\n      deletePerson(pid)\n      setErrorMessage(`${person.name} is deleted`)\n      setTimeout(() => setErrorMessage(null), 5000)\n    }\n  }\n\n\n  return(\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <Filter value={filter} handleFilterChange={handleFilterChange} />\n      <h1>add a new</h1>\n      <PersonForm newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handlePhoneChange={handlePhoneChange} addPerson={addPerson} />\n      <h1>Numbers</h1>\n      <Number filterPerson={filterPerson} handleDeletePerson={(event)=>handleDeletePerson(event)}/>\n    </div>\n  )\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}